# ğŸš€ This is your Kubernetes deployment workflow
# It will run when code is pushed to 'main' or 'master'

name: ğŸš¢ Auto Deploy to Kubernetes

on:
  push:
    branches: [ "main", "master" ]  # âœ… Trigger on push to main/master

jobs:
  deploy:
    name: ğŸ§  Deploy to Kubernetes (Minikube)
    runs-on: ubuntu-latest  # ğŸ’» Run this on a virtual Linux machine

    steps:
      # ğŸ“¦ Step 1: Checkout your GitHub repo code
      - name: ğŸ“¥ Checkout Code
        uses: actions/checkout@v3

      # â— Step 2: This is a placeholder for real kubectl access
      # ğŸ›‘ Minikube is local. So this won't work directly from GitHub yet.
      # âœ… In real-world use: you can add cloud kubeconfig here (for AWS, GKE, etc.)
      - name: ğŸ“ Show deployment instructions (for now)
        run: |
          echo "ğŸ“¢ Hey Sumanth! In real-world CI/CD, this step would run:"
          echo "kubectl apply -f k8s/frontend-deployment.yaml"
          echo "kubectl apply -f k8s/frontend-service.yaml"
          echo "kubectl apply -f k8s/backend-deployment.yaml"
          echo "kubectl apply -f k8s/backend-service.yaml"
          echo "â³ But because you're using Minikube locally, run these manually for now!"
